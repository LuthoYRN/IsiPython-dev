<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IsiPython API Endpoints Overview</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #f8f9fa;
            line-height: 1.6;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px 12px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 0.5px;
        }
        
        td {
            padding: 15px 12px;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: top;
        }
        
        tr:hover {
            background: #f8f9ff;
            cursor: pointer;
        }
        
        tr.section-header:hover {
            cursor: default;
            background: #495057;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        .endpoint {
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            background: #f8f9fa;
            padding: 4px 8px;
            border-radius: 4px;
            color: #495057;
            border: 1px solid #e9ecef;
        }
        
        .method {
            font-weight: bold;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            text-transform: uppercase;
            display: inline-block;
            min-width: 50px;
            text-align: center;
        }
        
        .method.GET {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .method.POST {
            background: #cce5ff;
            color: #004085;
            border: 1px solid #b8daff;
        }
        
        .method.PUT {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .method.DELETE {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .blueprint {
            background: #e9ecef;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.9em;
            color: #495057;
            font-weight: 500;
        }
        
        .access-level {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
            display: inline-block;
        }
        
        .access-level.student {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .access-level.admin {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .access-level.system {
            background: #c4830a;
            color: #e4eee5;
            border: 1px solid #f5c6cb;
        }
        
        .access-level.public {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .description {
            color: #6c757d;
            font-size: 0.95em;
        }
        
        .core-logic {
            font-size: 0.9em;
            color: #495057;
            font-style: italic;
        }
        
        .section-header {
            background: #495057;
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            body {
                margin: 10px;
            }
            
            table {
                font-size: 0.9em;
            }
            
            th, td {
                padding: 12px 8px;
            }
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(3px);
        }

        .modal-content {
            background: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 24px 30px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px 12px 0 0;
        }

        .modal-header h2 {
            margin: 0 0 8px 0;
            font-size: 1.5em;
            font-weight: 600;
        }

        .modal-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.95em;
        }

        .close {
            color: white;
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            margin-top: -5px;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-body {
            padding: 30px;
        }

        .example-section {
            margin-bottom: 32px;
        }

        .example-section {
            position: relative;
        }

        .example-section h3 {
            margin: 0 0 16px 0;
            color: #495057;
            font-size: 1.2em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
            transition: background 0.2s;
        }

        .copy-btn:hover {
            background: #5a67d8;
        }

        .copy-btn.copied {
            background: #48bb78;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
            overflow-x: auto;
            color: #495057;
        }

        .json-key {
            color: #0066cc;
            font-weight: 500;
        }

        .json-string {
            color: #d73a49;
        }

        .json-number {
            color: #005cc5;
        }

        .json-boolean {
            color: #e36209;
        }

        .json-null {
            color: #6f42c1;
        }

        .json-punctuation {
            color: #24292e;
        }

        .endpoint-badge {
            display: inline-block;
            background: #495057;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-family: monospace;
            margin-bottom: 12px;
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                margin: 5% auto;
            }
            
            .modal-header,
            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>

    <table>
        <thead>
            <tr>
                <th>Endpoint</th>
                <th>HTTP Method</th>
                <th>Blueprint</th>
                <th>Description</th>
                <th>Access Level</th>
                <th>Core Logic Triggered</th>
            </tr>
        </thead>
        <tbody>
            <!-- Code Execution Module -->
            <tr class="section-header">
                <td colspan="6">CODE EXECUTION & TRANSPILATION</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/code</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Execute isiXhosa code</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">Transpiler, ExecutionEngine, ErrorTranslator</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/save</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Save code snippet for user</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">SavedCodeModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/saved/&lt;user_id&gt;</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Get all saved code for specific user</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">SavedCodeModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/saved/update/&lt;code_id&gt;</span></td>
                <td><span class="method PUT">PUT</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Update existing saved code snippet</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">SavedCodeModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/saved/delete/&lt;code_id&gt;</span></td>
                <td><span class="method DELETE">DELETE</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Delete saved code snippet</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">SavedCodeModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/debug/start</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Send start command debugging</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">Transpiler, ExecutionEngine, ErrorTranslator</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/debug/step</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Send step command for debugging</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ExecutionEngine, ErrorTranslator</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/session/kill/&lt;session_id&gt;</span></td>
                <td><span class="method DELETE">DELETE</span></td>
                <td><span class="blueprint">code_execution</span></td>
                <td class="description">Kill running execution session</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ExecutionEngine</td>
            </tr>
            <!-- Student Challenges Module -->
            <tr class="section-header">
                <td colspan="6">STUDENT CHALLENGES</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges/stats?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">Get dashboard statistics for challenges</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserChallengeProgressModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">List all available challenges with user progress and class statistics</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserChallengeProgressModel, ChallengeSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges/&lt;challenge_id&gt;?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">Get detailed challenge information</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ChallengeModel, ChallengeTestCaseModel, ChallengeSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges/&lt;challenge_id&gt;/submit</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">Submit solution for challenge</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ChallengeModel, ChallengeExecutor, Transpiler, ErrorTranslator, ChallengeSubmissionModel, ChallengeTestCaseModel, UserChallengeProgressModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges/&lt;challenge_id&gt;/submissions/&lt;user_id&gt;</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">Get user's submission history for challenge</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ChallengeSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/challenges/leaderboard?challenge_id=xxx_xxx_xxx (optional)</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_challenges</span></td>
                <td class="description">Get leaderboard for challenges</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserChallengeProgressModel</td>
            </tr>

            <!-- Student Quizzes Module -->
            <tr class="section-header">
                <td colspan="6">STUDENT QUIZZES</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes/stats?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">Get dashboard statistics for quizzes</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">QuizModel, UserQuizProgressModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">List all available quizzes with user progress and class statistics</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserQuizProgressModel, QuizSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes/&lt;quiz_id&gt;?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">Get detailed quiz information and questions</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">QuizModel, QuizQuestionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes/&lt;quiz_id&gt;/submit</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">Submit quiz answers for scoring</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">QuizModel, QuizQuestionModel, QuizSubmissionModel, UserQuizProgressModel, ScoreQuizService</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes/&lt;quiz_id&gt;/results</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">Get detailed results for user's best quiz submission</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">QuizModel, QuizQuestionModel, QuizSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/quizzes/&lt;quiz_id&gt;/leaderboard?quiz_id=xxx_xxx_xxx (optional)</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_quizzes</span></td>
                <td class="description">Get leaderboard for quizzes</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserQuizProgressModel</td>
            </tr>

            <!-- Student Dashboard Module -->
            <tr class="section-header">
                <td colspan="6">STUDENT DASHBOARD</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/dashboard/stats?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_dashboard</span></td>
                <td class="description">Get comprehensive dashboard statistics</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">ChallengeModel, UserChallengeProgressModel, QuizModel, UserQuizProgressModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/dashboard/learning-path?user_id=xxx_xxx_xxx</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">student_dashboard</span></td>
                <td class="description">Get personalized learning path recommendations</td>
                <td><span class="access-level student">Student</span></td>
                <td class="core-logic">UserChallengeProgressModel, UserQuizProgressModel</td>
            </tr>

            <!-- Admin Challenges Module -->
            <tr class="section-header">
                <td colspan="6">ADMIN CHALLENGES MANAGEMENT</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/challenges</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">admin_challenges</span></td>
                <td class="description">List all challenges with filtering and statistics</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">ChallengeModel, ChallengeSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/challenges</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">admin_challenges</span></td>
                <td class="description">Create new challenge or update existing</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">ChallengeModel, ChallengeTestCaseModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/challenges/&lt;challenge_id&gt;</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">admin_challenges</span></td>
                <td class="description">Get detailed challenge info including test cases</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">ChallengeModel, ChallengeTestCaseModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/challenges/&lt;challenge_id&gt;</span></td>
                <td><span class="method DELETE">DELETE</span></td>
                <td><span class="blueprint">admin_challenges</span></td>
                <td class="description">Delete challenge</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">ChallengeModel</td>
            </tr>

            <!-- Admin Quizzes Module -->
            <tr class="section-header">
                <td colspan="6">ADMIN QUIZZES MANAGEMENT</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/quizzes</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">admin_quizzes</span></td>
                <td class="description">List all quizzes with filtering and analytics</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">QuizModel, QuizSubmissionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/quizzes</span></td>
                <td><span class="method POST">POST</span></td>
                <td><span class="blueprint">admin_quizzes</span></td>
                <td class="description">Create new quiz or update existing</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">QuizModel, QuizQuestionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/quizzes/&lt;quiz_id&gt;</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">admin_quizzes</span></td>
                <td class="description">Get detailed quiz information and questions</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">QuizModel, QuizQuestionModel</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/quizzes/&lt;quiz_id&gt;</span></td>
                <td><span class="method DELETE">DELETE</span></td>
                <td><span class="blueprint">admin_quizzes</span></td>
                <td class="description">Delete quiz</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">QuizModel</td>
            </tr>

            <!-- Admin Dashboard Module -->
            <tr class="section-header">
                <td colspan="6">ADMIN DASHBOARD & ANALYTICS</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/admin/dashboard/stats</span></td>
                <td><span class="method GET">GET</span></td>
                <td><span class="blueprint">admin_dashboard</span></td>
                <td class="description">Get admin dashboard overview statistics</td>
                <td><span class="access-level admin">Admin</span></td>
                <td class="core-logic">StudentModel, ChallengeModel, ChallengeSubmissionModel, QuizSubmissionModel, QuizModel</td>
            </tr>

            <!-- Cache Maintenance Module -->
            <tr class="section-header">
                <td colspan="6">SYSTEM MAINTENANCE</td>
            </tr>
            <tr>
                <td><span class="endpoint">/api/cache</span></td>
                <td><span class="method DELETE">DELETE</span></td>
                <td><span class="blueprint">cache_maintenance</span></td>
                <td class="description">Clear system caches</td>
                <td><span class="access-level system">System</span></td>
                <td class="core-logic">CacheUtility</td>
            </tr>
        </tbody>
    </table>

    <!-- Modal -->
    <div id="endpointModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2 id="modalTitle">Endpoint Details</h2>
                <p id="modalDescription"></p>
            </div>
            <div class="modal-body">
                <div class="endpoint-badge" id="modalEndpoint"></div>
                
                <div class="example-section">
                    <h3>
                        Example Request
                        <button class="copy-btn" onclick="copyToClipboard('exampleRequest', this)">Copy</button>
                    </h3>
                    <div class="code-block" id="exampleRequest">
                        Loading...
                    </div>
                </div>
                
                <div class="example-section">
                    <h3>Example Response</h3>
                    <div class="code-block" id="exampleResponse">
                        Loading...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Example data for different endpoints
        const endpointExamples = {
            '/api/code': {
                request: {
                    scenarios: [
                        {
                            title: "Initial code execution:",
                            data: {
                                code: "igama = input('Faka igama lakho: ')\nprint('Sawubona', igama)"
                            }
                        },
                        {
                            title: "Providing input to waiting program:",
                            data: {
                                session_id: "0292a198-f09b-4e1b-a4a6-0bc0ce9771e8",
                                input: "John"
                            }
                        }
                    ]
                },
                response: {
                    scenarios: [
                        {
                            title: "Normal completion:",
                            data: {
                                output: "Faka igama lakho: Sawubona John",
                                english_error:null,
                                error: null,
                                completed: true,
                                session_id: "0292a198-f09b-4e1b-a4a6-0bc0ce9771e8"
                            }
                        },
                        {
                            title: "Program waiting for input:",
                            data: {
                                output: "Faka igama lakho: ",
                                prompt: "Faka igama lakho: ",
                                session_id: "0292a198-f09b-4e1b-a4a6-0bc0ce9771e8",
                                waiting_for_input: true
                            }
                        },
                        {
                            title: "Program still executing:",
                            data: {
                                completed: false,
                                output: "",
                                session_id: "0292a198-f09b-4e1b-a4a6-0bc0ce9771e8",
                                still_running: true
                            }
                        },
                        {
                            title: "Error in code execution:",
                            data: {
                                completed: true,
                                english_error: "Traceback (most recent call last):\\n...  File  \\backend\\temp_c92d856b-3deb-4f0e-b880-87f756704f15.py\", line 2, in <module>\\n    x = y+1\\n        ^\\nNameError: name 'y' is not defined",
                                error: "Igama elithi *y* alikachazwa kumgca 2. Kufuneka ulichaze ngaphambi kokulisebenzisa.",
                                line_mapping: {
                                    "1": 1,
                                    "2": 2
                                },
                                output: "",
                                session_id: "0292a198-f09b-4e1b-a4a6-0bc0ce9771e8"
                            }
                        }
                    ]
                }
            },
            '/api/save': {
                request: {
                    method: 'POST',
                    url: '/api/save',
                    headers: { 'Content-Type': 'application/json' },
                    body: {
                        title: "IsiXhosa Basic Loop.isi",
                        code: "amanani = [1, 2, 3, 4, 5]\nngokulandelelana x ngaphakathi amanani:\n    print('Inani:', x)",
                        user_id: "550e8400-e29b-41d4-a716-446655440001"
                    }
                },
                response: {
                    message: "Code saved successfully",
                    data: {
                        id: "f47ac10b-58cc-4372-a567-0e02b2c3d479",
                        title: "IsiXhosa Basic Loop.isi",
                        code: "amanani = [1, 2, 3, 4, 5]\nngokulandelelana x ngaphakathi amanani:\n    print('Inani:', x)",
                        created_at: "2025-08-31T14:32:18.276Z",
                        updated_at: "2025-08-31T14:32:18.276Z",
                        user_id: "550e8400-e29b-41d4-a716-446655440001"
                    }
                }
            },
            '/api/saved/<user_id>': {
                request: {
                    method: 'GET',
                    url: '/api/saved/<user_id>',
                    headers: { 'Content-Type': 'application/json' },
                },
                response: {
                    message: "Saved code retrieved successfully",
                    data: [{
                        code: "ukusuka math ngenisa sqrt\n\nzama:\n    x = 5 / 0\nngaphandle Exception:\n    print(\"Impazamo\")",
                        created_at: "2025-08-31T20:31:21.857814+00:00",
                        id: "d9d70448-2a46-4dcc-b166-cca410af3049",
                        title: "newfile.isi",
                        updated_at: "2025-08-31T20:31:21.857814+00:00",
                        user_id: "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        },
                        {
                        code: "# Calculate total cost of groceries\r\nprices = [12.50, 18.75, 15.20, 6.30]\r\ntotal = 0\r\ndiscount = 0\r\ni = 0\r\nngelixa i < len(prices):\r\n    item_cost = prices[i]\r\n    total = total + item_cost\r\n    i = i + 1\r\nukuba total>50:\r\n    discount = 0.3\r\nukuba total>30:\r\n    discount = 0.2\r\nfinal_cost = total - total*discount\r\nprint(f\"Total cost after discount: R{final_cost:.2f}\")",
                        created_at: "2025-08-25T07:53:59.342664+00:00",
                        id: "91c3304d-16e2-45b6-bbbe-da2c692e083c",
                        title: "grocery_calc.isi",
                        updated_at: "2025-08-25T12:45:25.347977+00:00",
                        user_id: "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        },
                    ]
                },
            },
            '/api/saved/update/<code_id>': {
                request: {
                    method: 'PUT',
                    url: '/api/saved/update/<code_id>',
                    headers: { 'Content-Type': 'application/json' },
                    body: {
                            title:"testingIsiPython_updated.isi",
                            code:"ukusuka math ngenisa sqrt,floor,ceil\n\nzama:\n    x = 5 / 0\nngaphandle Exception:\n    print(\"Impazamo\")",
                            user_id:"dd7e5366-feb8-4189-8e92-8419fe77c1f2"
                        }
                },
                response: {
                    message:  "Code updated successfully",
                    data: {
                            code: "ukusuka math ngenisa sqrt,floor,ceil\n\nzama:\n    x = 5 / 0\nngaphandle Exception:\n    print(\"Impazamo\")",
                            created_at: "2025-08-25T07:50:51.274727+00:00",
                            id: "3b2fc911-79e1-4171-acf0-50198703429d",
                            title: "testingIsiPython_updated.isi",
                            updated_at: "2025-08-31T20:44:54.183545+00:00",
                            user_id: "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        }   
                }
            },
            '/api/saved/delete/<code_id>': {
                request: {
                    method: 'DELETE',
                    url: '/api/saved/delete/<code_id>',
                    headers: { 'Content-Type': 'application/json' },
                    body: {
                        user_id: "550e8400-e29b-41d4-a716-446655440001"
                    }
                },
                response: {
                      message: "Code deleted successfully"
                }
            },
            '/api/debug/start': {
                request: {
                    body:{
                        code: "igama = input('Faka igama lakho: ')\nprint('Sawubona', igama)"
                    }
                },
                response: {
                    scenarios: [
                        {
                            title: "Waiting for user input:",
                            data: {
                                current_line: 1,
                                output: "Faka igama lakho: ",
                                prompt: "Faka igama lakho: ",
                                session_id: "1ab922df-d60d-4521-a0d4-814793c0ed31",
                                waiting_for_input: true
                            }
                        },
                        {
                            title: "Waiting for debug step forward:",
                            data: {
                                "current_line": 1,
                                "output": "Faka igama lakho: ",
                                "session_id": "1ab922df-d60d-4521-a0d4-814793c0ed31",
                                "variables": {
                                    "igama": "Sizwe"
                                },
                                "waiting_for_debug_step": true,
                                "waiting_for_input": false
                            }
                        },
                        {
                            title: "Error during debugging:",
                            data: 
                                {
                                    "completed": true,
                                    "english_error": "  File ...\\backend\\temp_b8fea65c-17fb-4179-8457-2f8eb6b27df2.py\", line 2\n    igama = input(Faka igama lakho: ')\n                                    ^\nSyntaxError: unterminated string literal (detected at line 2)",
                                    "error": "I-string (igama) asiphelelanga kumgca 1. Ulibele i-quote mark ekupheleni kwegama elithi 'Faka igama lakho: ' - kufuneka ube ne-quote mark zombini ecaleni nasekupheleni.",
                                    "line_mapping": {
                                        "1": 1,
                                        "2": 1,
                                        "3": 1,
                                        "4": 1,
                                        "5": 1,
                                        "6": 2,
                                        "7": 2,
                                        "8": 2,
                                        "9": 2,
                                        "10": 2
                                    },
                                    "output": "",
                                    "session_id": "1ab922df-d60d-4521-a0d4-814793c0ed31"
                                }
                        },
                    ]
                }
            },
            '/api/debug/step': {
                request: {
                    body: {
                            "session_id":"1ab922df-d60d-4521-a0d4-814793c0ed31",
                            "input":"Sizwe"
                        }
                },
                response: {
                    scenarios: [
                        {
                            title: "Waiting for user input:",
                            data: {
                                current_line: 1,
                                output: "Faka igama lakho: ",
                                prompt: "Faka igama lakho: ",
                                session_id: "1ab922df-d60d-4521-a0d4-814793c0ed31",
                                waiting_for_input: true
                            }
                        },
                        {
                            title: "Waiting for debug step forward:",
                            data: {
                                "current_line": 1,
                                "output": "Faka igama lakho: ",
                                "session_id": "1ab922df-d60d-4521-a0d4-814793c0ed31",
                                "variables": {
                                    "igama": "Sizwe"
                                },
                                "waiting_for_debug_step": true,
                                "waiting_for_input": false
                            }
                        },
                        {
                            title: "Error during debugging:",
                            data: 
                                {
                                    "completed": true,
                                    "english_error": "  File ...\\backend\\temp_b8fea65c-17fb-4179-8457-2f8eb6b27df2.py\", line 2\n    igama = input(Faka igama lakho: ')\n                                    ^\nSyntaxError: unterminated string literal (detected at line 2)",
                                    "error": "I-string (igama) asiphelelanga kumgca 1. Ulibele i-quote mark ekupheleni kwegama elithi 'Faka igama lakho: ' - kufuneka ube ne-quote mark zombini ecaleni nasekupheleni.",
                                    "line_mapping": {
                                        "1": 1,
                                        "2": 1,
                                        "3": 1,
                                        "4": 1,
                                        "5": 1,
                                        "6": 2,
                                        "7": 2,
                                        "8": 2,
                                        "9": 2,
                                        "10": 2
                                    },
                                    "output": "",
                                    "session_id": "1ab922df-d60d-4521-a0d4-814793c0ed31"
                                }
                        },
                    ]
                }
            },
            '/api/session/kill/<session_id>': {
                request:{

                },
                response: {
                    "message": "Session killed successfully",
                    "session_id": "9d014288-e521-4841-9edf-7c1ba98476ea"
                }
            },
            ///////////////////////////////////////////////////////////////////
            '/api/challenges/stats?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "completed_challenges": 3,
                        "success_rate": 60.0,
                        "total_points_earned": 275.0,
                        "user_global_rank": 1
                    },
                    "message": "Dashboard stats retrieved successfully"
                }
            },
            '/api/challenges?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "challenges": [
                            {
                                "created_at": "2025-08-10T20:39:19.12534+00:00",
                                "difficulty_level": "Medium",
                                "estimated_time": 45,
                                "id": "60bfc347-6ac8-490b-89cd-8a4da67c1d91",
                                "problem_statement": "Given a sorted array of integers nums and a target value, implement binary search to find the index of the target. If the target is not found, return -1.\n\nThe algorithm must run in O(log n) time complexity.\n\nConstraints:\n- 1 <= nums.length <= 10^4\n- -10^4 <= nums[i], target <= 10^4\n- All integers in nums are unique\n- nums is sorted in ascending order",
                                "published_at": "2025-08-10T20:39:21.237994+00:00",
                                "reward_points": 150,
                                "search_vector": "'algorithm':8 'array':17 'binari':1,6 'find':10 'implement':3,4 'search':2,7 'sort':16 'target':12 'valu':13",
                                "send_notifications": true,
                                "short_description": "Implement the binary search algorithm to find a target value in a sorted array",
                                "slug": "binary-search-implementation",
                                "statistics": {
                                    "pass_rate": 0.0,
                                    "users_attempted": 1,
                                    "users_completed": 0
                                },
                                "status": "published",
                                "tags": [
                                    "algorithms",
                                    "binary-search",
                                    "divide-and-conquer"
                                ],
                                "title": "Binary Search Implementation",
                                "updated_at": "2025-08-10T20:39:21.237994+00:00",
                                "user_progress": {
                                    "attempts_count": 1,
                                    "best_score": 0.0,
                                    "challenge_id": "60bfc347-6ac8-490b-89cd-8a4da67c1d91",
                                    "completed_at": null,
                                    "status": "in_progress"
                                }
                            },
                            {
                                "created_at": "2025-08-15T23:57:26.993232+00:00",
                                "difficulty_level": "Easy",
                                "estimated_time": 30,
                                "id": "c6c6a9ab-cecb-4dce-9ee4-a04c8dcb6773",
                                "problem_statement": "Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.\n\nYou may assume that each input would have exactly one solution, and you may not use the same element twice.\n\nYou can return the answer in any order.",
                                "published_at": "2025-08-16T00:15:26.120684+00:00",
                                "reward_points": 99,
                                "search_vector": "'add':11 'array':9 'find':4 'number':6 'problem':3 'sum':2 'target':15 'two':1,5 'valu':16",
                                "send_notifications": false,
                                "short_description": "Find two numbers in an array that add up to a target value",
                                "slug": "two-sum-problem",
                                "statistics": {
                                    "pass_rate": 0.0,
                                    "users_attempted": 1,
                                    "users_completed": 0
                                },
                                "status": "published",
                                "tags": [
                                    "algorithms",
                                    "arrays",
                                    "hash-table"
                                ],
                                "title": "Two Sum Problem",
                                "updated_at": "2025-08-16T00:15:26.120684+00:00",
                                "user_progress": {
                                    "attempts_count": 4,
                                    "best_score": 25.0,
                                    "challenge_id": "c6c6a9ab-cecb-4dce-9ee4-a04c8dcb6773",
                                    "completed_at": null,
                                    "status": "in_progress"
                                }
                            },
                            {
                                "created_at": "2025-08-17T23:23:20.651337+00:00",
                                "difficulty_level": "Easy",
                                "estimated_time": 15,
                                "id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                                "problem_statement": "Write a program that:\n1. Asks the user to enter the first number\n2. Asks the user to enter the second number\n3. Calculates and prints the sum of the two numbers\n\nExample:\nEnter first number: 5\nEnter second number: 3\nThe sum is: 8",
                                "published_at": "2025-08-17T23:23:22.569244+00:00",
                                "reward_points": 30,
                                "search_vector": "'add':8 'basic':5 'calcul':2,6 'creat':3 'number':10 'simpl':1 'two':9",
                                "send_notifications": false,
                                "short_description": "Create a basic calculator that adds two numbers",
                                "slug": "simple-calculator",
                                "statistics": {
                                    "pass_rate": 100.0,
                                    "users_attempted": 6,
                                    "users_completed": 6
                                },
                                "status": "published",
                                "tags": [
                                    "input",
                                    "output",
                                    "arithmetic"
                                ],
                                "title": "Simple Calculator",
                                "updated_at": "2025-08-17T23:23:22.569244+00:00",
                                "user_progress": {
                                    "attempts_count": 17,
                                    "best_score": 30.0,
                                    "challenge_id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                                    "completed_at": "2025-08-25T08:23:29.112327+00:00",
                                    "status": "completed"
                                }
                            },
                        ],
                        "total_count": 3
                    },
                    "message": "Challenges retrieved successfully"
                }
            },
            '/api/challenges/<challenge_id>?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "created_at": "2025-08-10T20:39:19.12534+00:00",
                        "difficulty_level": "Medium",
                        "estimated_time": 45,
                        "id": "60bfc347-6ac8-490b-89cd-8a4da67c1d91",
                        "problem_statement": "Given a sorted array of integers nums and a target value, implement binary search to find the index of the target. If the target is not found, return -1.\n\nThe algorithm must run in O(log n) time complexity.\n\nConstraints:\n- 1 <= nums.length <= 10^4\n- -10^4 <= nums[i], target <= 10^4\n- All integers in nums are unique\n- nums is sorted in ascending order",
                        "published_at": "2025-08-10T20:39:21.237994+00:00",
                        "reward_points": 150,
                        "search_vector": "'algorithm':8 'array':17 'binari':1,6 'find':10 'implement':3,4 'search':2,7 'sort':16 'target':12 'valu':13",
                        "send_notifications": true,
                        "short_description": "Implement the binary search algorithm to find a target value in a sorted array",
                        "slug": "binary-search-implementation",
                        "status": "published",
                        "submissions": [
                            {
                                "challenge_id": "60bfc347-6ac8-490b-89cd-8a4da67c1d91",
                                "code": "# Write your code here\r\nprint(\"6\")",
                                "id": "60ddfec5-b1b5-4b9f-9c72-921746930f77",
                                "score": 0.0,
                                "status": "failed",
                                "submitted_at": "2025-08-29T14:57:49.889498+00:00",
                                "tests_passed": 0,
                                "tests_total": 4,
                                "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                            }
                        ],
                        "summary": {
                            "best_score": 0.0,
                            "has_passed": false,
                            "latest_attempt": {
                                "score": 0.0,
                                "status": "failed",
                                "submitted_at": "2025-08-29T14:57:49.889498+00:00"
                            },
                            "status": "in_progress",
                            "total_attempts": 1
                        },
                        "tags": [
                            "algorithms",
                            "binary-search",
                            "divide-and-conquer"
                        ],
                        "test_cases": [
                            {
                                "expected_output": "3",
                                "explanation": "Target 7 is at index 3",
                                "input_data": [
                                    "[1,3,5,7,9,11]",
                                    "7"
                                ]
                            }
                        ],
                        "title": "Binary Search Implementation",
                        "total_submissions": 1,
                        "updated_at": "2025-08-10T20:39:21.237994+00:00"
                    },
                    "message": "Challenge details retrieved successfully"
                }
            },
            '/api/challenges/<challenge_id>/submit': {
                request: {
                    body:{
                    "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91",
                    "code": "print(\"test\")"
                    }
                },
                response: {
                    scenarios:[
                        {
                            "title":"Failing submission",
                            data:{
                                "message": "Code submitted and executed successfully",
                                "score": 0,
                                "status": "failed",
                                "submission_id": "431c33d0-2e70-4f9e-9ca7-1266c31f5762",
                                "test_results": {
                                    "hidden_tests": {
                                        "failed": 2,
                                        "passed": 0,
                                        "total": 2
                                    },
                                    "visible_tests": [
                                        {
                                            "actual_output": "test",
                                            "expected_output": "3",
                                            "explanation": "Target 7 is at index 3",
                                            "input_data": [
                                                "[1,3,5,7,9,11]",
                                                "7"
                                            ],
                                            "status": "failed"
                                        },
                                        {
                                            "actual_output": "test",
                                            "expected_output": "-1",
                                            "explanation": "Target 2 is not in the array",
                                            "input_data": [
                                                "[1,3,5,7,9,11]",
                                                "2"
                                            ],
                                            "status": "failed"
                                        }
                                    ]
                                },
                                "tests_passed": 0,
                                "tests_total": 4
                            }
                        },
                        {
                            title:"Submission with error in code",
                            data:{
                                "message": "Code submitted and executed successfully",
                                "score": 0,
                                "status": "failed",
                                "submission_id": "6d1b98e5-b625-444c-beb9-c06e947adfd4",
                                "test_results": {
                                    "hidden_tests": {
                                        "failed": 2,
                                        "passed": 0,
                                        "total": 2
                                    },
                                    "visible_tests": [
                                        {
                                            "actual_output": "",
                                            "english_error": "  File ...backend\\temp_b3053d87-8110-442e-ba87-bcb1268f97f0.py\", line 1\n    print(\"test)\n          ^\nSyntaxError: unterminated string literal (detected at line 1)\n",
                                            "error_message": "I-string (igama) ayiphelelanga kumgca 1. Ulibele i-quote mark ekugqibeleni - kufuneka ube ne-quote mark zombini ecaleni nasekupheleni kwegama.",
                                            "expected_output": "3",
                                            "explanation": "Target 7 is at index 3",
                                            "input_data": [
                                                "[1,3,5,7,9,11]",
                                                "7"
                                            ],
                                            "status": "failed"
                                        },
                                        {
                                            "actual_output": "",
                                            "english_error": "  File ... backend\\temp_3e4a0cc9-de10-4eeb-b72a-93e543889c14.py\", line 1\n    print(\"test)\n          ^\nSyntaxError: unterminated string literal (detected at line 1)\n",
                                            "error_message": "I-string (igama) asiphelanga kumgca 1. Ulibele i-quote mark ekugqibeleni - kufuneka ube ne-quote mark zombini ecaleni nasekupheleni kwegama.",
                                            "expected_output": "-1",
                                            "explanation": "Target 2 is not in the array",
                                            "input_data": [
                                                "[1,3,5,7,9,11]",
                                                "2"
                                            ],
                                            "status": "failed"
                                        }
                                    ]
                                },
                                "tests_passed": 0,
                                "tests_total": 4
                            }
                        },{
                            title:"Passing submission",
                            data:{
                                    "message": "Code submitted and executed successfully",
                                    "score": 30.0,
                                    "status": "passed",
                                    "submission_id": "4313c4e8-8993-4d43-b1d3-617b51094b3e",
                                    "test_results": {
                                        "hidden_tests": {
                                            "failed": 0,
                                            "passed": 1,
                                            "total": 1
                                        },
                                        "visible_tests": [
                                            {
                                                "actual_output": "Enter first number:\nEnter second number:\nThe sum is: 8",
                                                "expected_output": "Enter first number:\nEnter second number:\nThe sum is: 8",
                                                "explanation": "Test with positive numbers 5 and 3",
                                                "input_data": [
                                                    "5",
                                                    "3"
                                                ],
                                                "status": "passed"
                                            },
                                            {
                                                "actual_output": "Enter first number:\nEnter second number:\nThe sum is: 0",
                                                "expected_output": "Enter first number:\nEnter second number:\nThe sum is: 0",
                                                "explanation": "Test with zeros",
                                                "input_data": [
                                                    "0",
                                                    "0"
                                                ],
                                                "status": "passed"
                                            }
                                        ]
                                    },
                                    "tests_passed": 3,
                                    "tests_total": 3
                            }
                        }
                    ]
                }
            },
            '/api/challenges/<challenge_id>/submissions/<user_id>': {
                request: {
                   
                },
                response: {   
                    "data": [
                        {
                            "challenge_id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                            "code": "first = int(input(\"Enter first number:\"))\nsecond = int(input(\"Enter second number:\"))\nresult = first + second\nprint(\"The sum is:\", result)",
                            "id": "4313c4e8-8993-4d43-b1d3-617b51094b3e",
                            "score": 30.0,
                            "status": "passed",
                            "submitted_at": "2025-09-01T00:33:24.577109+00:00",
                            "tests_passed": 3,
                            "tests_total": 3,
                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        },
                        {
                            "challenge_id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                            "code": "# Write your code here\r\nx = eval(input(\"Enter first number:\"))\r\ny = eval(input(\"Enter second number:\"))\r\nz = x+y\r\nprint(f\"The sum is: 8\")",
                            "id": "b133844d-64ec-4f94-9875-9ba9727846d2",
                            "score": 20.0,
                            "status": "failed",
                            "submitted_at": "2025-08-25T08:18:40.331317+00:00",
                            "tests_passed": 2,
                            "tests_total": 3,
                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        },
                        {
                            "challenge_id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                            "code": "# Write your code here\r\nx = eval(input(\"Enter first number:\"))\r\ny = eval(input(\"Enter second number:\"))\r\nz = x+y\r\nprint(\"The sum is: \",str(z),end=\"\")",
                            "id": "4f7600a5-9c8e-4108-a69a-58cb10d423e3",
                            "score": 0.0,
                            "status": "failed",
                            "submitted_at": "2025-08-25T08:23:10.641787+00:00",
                            "tests_passed": 0,
                            "tests_total": 3,
                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        },
                    ],
                    "message": "Submissions retrieved successfully"
                }
            },
            '/api/challenges/leaderboard?challenge_id=xxx_xxx_xxx (optional)': {
                request: {
                    
                },
                response: {
                    scenarios:[
                        {
                            title:"Global challenge rankings (when challenge_id not specified)",
                            data: {
                                "data": {
                                    "challenge_id": null,
                                    "leaderboard": [
                                        {
                                            "challenges_completed": 3,
                                            "full_name": "John Doe",
                                            "last_completion": "2025-08-30T01:11:48.005721+00:00",
                                            "rank": 1,
                                            "total_score": 250,
                                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                                        },
                                        {
                                            "challenges_completed": 3,
                                            "full_name": "Doe John",
                                            "last_completion": "2025-08-25T11:05:26.622118+00:00",
                                            "rank": 2,
                                            "total_score": 180,
                                            "user_id": "8232ad65-a1b5-4fc1-9fee-275cc3e2292c"
                                        },
                                        {
                                            "challenges_completed": 2,
                                            "full_name": "Zan Jan",
                                            "last_completion": "2025-08-25T13:57:39.79966+00:00",
                                            "rank": 3,
                                            "total_score": 130,
                                            "user_id": "0414b5df-233e-42a1-9993-1051efa3fe1d"
                                        },
                                        {
                                            "challenges_completed": 1,
                                            "full_name": "Jan Zan",
                                            "last_completion": "2025-08-25T09:49:53.277471+00:00",
                                            "rank": 4,
                                            "total_score": 100,
                                            "user_id": "2b7154d4-2545-4a30-bd4f-0389b3dbc3f2"
                                        }
                                    ],
                                    "limit": 500
                                },
                                "message": "Leaderboard retrieved successfully"
                            }
                        },
                        {
                            title:"Leaderboard for specific challenge (when challenge_id specified)",
                            "data": {
                                "data": {
                                    "challenge_id": "7162fc36-862a-47a2-9e7c-6a5fc3e9dc82",
                                    "leaderboard": [
                                        {
                                            "attempts_count": 18,
                                            "best_score": 30.0,
                                            "completed_at": "2025-08-25T08:23:29.112327+00:00",
                                            "full_name": "John Doe",
                                            "rank": 1,
                                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                                        },
                                        {
                                            "attempts_count": 6,
                                            "best_score": 30.0,
                                            "completed_at": "2025-08-25T10:47:14.582597+00:00",
                                            "full_name": "Doe John",
                                            "rank": 2,
                                            "user_id": "8232ad65-a1b5-4fc1-9fee-275cc3e2292c"
                                        },
                                        {
                                            "attempts_count": 9,
                                            "best_score": 30.0,
                                            "completed_at": "2025-08-25T10:56:39.897528+00:00",
                                            "full_name": "Zan Jan",
                                            "rank": 3,
                                            "user_id": "36523d21-d47d-4d78-88de-1f9b7096549c"
                                        },
                                        {
                                            "attempts_count": 6,
                                            "best_score": 30.0,
                                            "completed_at": "2025-08-25T13:50:32.654177+00:00",
                                            "full_name": "Jan Zan",
                                            "rank": 4,
                                            "user_id": "0414b5df-233e-42a1-9993-1051efa3fe1d"
                                        }
                                    ],
                                    "limit": 500
                                },
                                "message": "Leaderboard retrieved successfully"
                            }
                        }
                    ]
                }
            },
            ///////////////////////////////////////////////////////
            '/api/quizzes/stats?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "average_score": 50.0,
                        "completed_quizzes": 1,
                        "total_quizzes": 8,
                        "user_global_rank": 7
                    },
                    "message": "Dashboard stats retrieved successfully"
                }
            },
            '/api/quizzes?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "quizzes": [
                            {
                                "allow_multiple_attempts": false,
                                "class_statistics": {
                                    "pass_rate": 90.0,
                                    "users_attempted": 10,
                                    "users_passed": 9
                                },
                                "description": "Basic programming concepts in IsiXhosa",
                                "due_date": "2025-10-30T17:00:00+00:00",
                                "id": "937d395a-001d-4cd0-b08b-efab7d2bdf29",
                                "published_at": "2025-08-15T23:14:44.045986+00:00",
                                "status": "completed",
                                "time_limit_minutes": 35,
                                "title": "IsiXhosa Programming Quiz",
                                "total_points": 40,
                                "total_questions": 4,
                                "user_performance": {
                                    "attempts_count": 1,
                                    "best_percentage": 50.0,
                                    "best_score": 20.0
                                }
                            }
                        ],
                        "total_count": 1
                    },
                    "message": "Quizzes retrieved successfully"
                }
            },
            '/api/quizzes/<quiz_id>?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                    "data": {
                        "allow_multiple_attempts": false,
                        "created_at": "2025-08-15T22:11:03.929701+00:00",
                        "description": "Basic programming concepts in IsiXhosa",
                        "due_date": "2025-10-30T17:00:00+00:00",
                        "id": "937d395a-001d-4cd0-b08b-efab7d2bdf29",
                        "instructions": [
                            "This quiz contains multiple-choice questions about Python programming",
                            "Each question has only one correct answer",
                            "You have 45 minutes to complete all questions",
                            "You can flag questions for review and return to them later",
                            "The quiz will auto-submit when time runs out",
                            "Make sure to submit your quiz before the due date",
                            "Your score will be calculated based on correct answers",
                            "Review your answers carefully before final submission"
                        ],
                        "published_at": "2025-08-15T23:14:44.045986+00:00",
                        "questions": [
                            {
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "id": "2e1210da-3c1f-4291-afe4-792051a2cff7",
                                "option_a": "chaza",
                                "option_b": "umsebenzi",
                                "option_c": "def",
                                "option_d": "function",
                                "points_weight": 10.0,
                                "question_order_idx": "1",
                                "question_text": "Yintoni i-keyword esisetyenziswayo ukuchaza umsebenzi?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "id": "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15",
                                "option_a": "if",
                                "option_b": "ukuba",
                                "option_c": "condition",
                                "option_d": "xa",
                                "points_weight": 10.0,
                                "question_order_idx": "2",
                                "question_text": "Yintoni i-keyword ye-conditional statement?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "id": "242791c3-7dd6-4083-b205-e24553b846f7",
                                "option_a": "while",
                                "option_b": "ngexesha",
                                "option_c": "ngelixa",
                                "option_d": "loop",
                                "points_weight": 10.0,
                                "question_order_idx": "3",
                                "question_text": "Yintoni i-keyword ye-while loop?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "id": "40bef686-7f93-4850-a10c-de82c0a7c4a9",
                                "option_a": "return",
                                "option_b": "buyisela",
                                "option_c": "give",
                                "option_d": "back",
                                "points_weight": 10.0,
                                "question_order_idx": "4",
                                "question_text": "Yintoni i-keyword esisetyenziswayo ukubuyisela i-value?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            }
                        ],
                        "randomize_question_order": false,
                        "search_vector": "'basic':4 'concept':6 'isixhosa':1,8 'program':2,5 'quiz':3",
                        "send_notifications": false,
                        "show_results_immediately": true,
                        "slug": "isixhosa-programming-quiz",
                        "status": "published",
                        "time_limit_minutes": 35,
                        "title": "IsiXhosa Programming Quiz",
                        "total_points": 40,
                        "total_questions": 4,
                        "updated_at": "2025-08-15T23:14:44.045986+00:00"
                    },
                    "message": "Quiz details retrieved successfully"
                }
            },
            '/api/quizzes/<quiz_id>/submit': {
                request: {
                    body:{    
                        "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91",
                        "answers": {
                            "2e1210da-3c1f-4291-afe4-792051a2cff7": "A",
                            "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15": "B",
                            "242791c3-7dd6-4083-b205-e24553b846f7": "C",
                            "40bef686-7f93-4850-a10c-de82c0a7c4a9": "D"
                        }
                    }
                },
                response: {             
                    "data": {
                        "submission": {
                            "answers": {
                                "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15": "B",
                                "242791c3-7dd6-4083-b205-e24553b846f7": "C",
                                "2e1210da-3c1f-4291-afe4-792051a2cff7": "A",
                                "40bef686-7f93-4850-a10c-de82c0a7c4a9": "D"
                            },
                            "detailed_results": [
                                {
                                    "correct_answer": "A",
                                    "is_correct": true,
                                    "points_weight": 10.0,
                                    "question_id": "2e1210da-3c1f-4291-afe4-792051a2cff7",
                                    "user_answer": "A"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": true,
                                    "points_weight": 10.0,
                                    "question_id": "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15",
                                    "user_answer": "B"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": false,
                                    "points_weight": 10.0,
                                    "question_id": "242791c3-7dd6-4083-b205-e24553b846f7",
                                    "user_answer": "C"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": false,
                                    "points_weight": 10.0,
                                    "question_id": "40bef686-7f93-4850-a10c-de82c0a7c4a9",
                                    "user_answer": "D"
                                }
                            ],
                            "id": "06af57be-9594-4433-9a33-f916b1fb8052",
                            "percentage": 50.0,
                            "questions_correct": 2,
                            "questions_total": 4,
                            "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29",
                            "score": 20.0,
                            "status": "completed",
                            "submitted_at": "2025-09-01T00:59:19.603675+00:00",
                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        }
                    },
                    "message": "Quiz submitted successfully"
                }
            },
            '/api/quizzes/<quiz_id>/results': {
                request: {
                    
                },
                response: {
                       "data": {
                        "questions": [
                            {
                                "correct_answer": "A",
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "explanation": "Kwi-IsiPython, sisebenzisa 'chaza' ukuchaza umsebenzi.",
                                "id": "2e1210da-3c1f-4291-afe4-792051a2cff7",
                                "option_a": "chaza",
                                "option_b": "umsebenzi",
                                "option_c": "def",
                                "option_d": "function",
                                "points_weight": 10.0,
                                "question_order_idx": "1",
                                "question_text": "Yintoni i-keyword esisetyenziswayo ukuchaza umsebenzi?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "correct_answer": "B",
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "explanation": "Kwi-IsiPython, sisebenzisa 'ukuba' ukwenza i-if statement.",
                                "id": "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15",
                                "option_a": "if",
                                "option_b": "ukuba",
                                "option_c": "condition",
                                "option_d": "xa",
                                "points_weight": 10.0,
                                "question_order_idx": "2",
                                "question_text": "Yintoni i-keyword ye-conditional statement?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "correct_answer": "B",
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "explanation": "Kwi-IsiPython, sisebenzisa 'ngexesha' ukwenza i-while loop.",
                                "id": "242791c3-7dd6-4083-b205-e24553b846f7",
                                "option_a": "while",
                                "option_b": "ngexesha",
                                "option_c": "ngelixa",
                                "option_d": "loop",
                                "points_weight": 10.0,
                                "question_order_idx": "3",
                                "question_text": "Yintoni i-keyword ye-while loop?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            },
                            {
                                "correct_answer": "B",
                                "created_at": "2025-08-15T22:57:04.64035+00:00",
                                "explanation": "Kwi-IsiPython, sisebenzisa 'buyisela' ukubuyisela i-value.",
                                "id": "40bef686-7f93-4850-a10c-de82c0a7c4a9",
                                "option_a": "return",
                                "option_b": "buyisela",
                                "option_c": "give",
                                "option_d": "back",
                                "points_weight": 10.0,
                                "question_order_idx": "4",
                                "question_text": "Yintoni i-keyword esisetyenziswayo ukubuyisela i-value?",
                                "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                            }
                        ],
                        "quiz": {
                            "allow_multiple_attempts": false,
                            "created_at": "2025-08-15T22:11:03.929701+00:00",
                            "description": "Basic programming concepts in IsiXhosa",
                            "due_date": "2025-10-30T17:00:00+00:00",
                            "id": "937d395a-001d-4cd0-b08b-efab7d2bdf29",
                            "instructions": [
                                "This quiz contains multiple-choice questions about Python programming",
                                "Each question has only one correct answer",
                                "You have 45 minutes to complete all questions",
                                "You can flag questions for review and return to them later",
                                "The quiz will auto-submit when time runs out",
                                "Make sure to submit your quiz before the due date",
                                "Your score will be calculated based on correct answers",
                                "Review your answers carefully before final submission"
                            ],
                            "published_at": "2025-08-15T23:14:44.045986+00:00",
                            "randomize_question_order": false,
                            "search_vector": "'basic':4 'concept':6 'isixhosa':1,8 'program':2,5 'quiz':3",
                            "send_notifications": false,
                            "show_results_immediately": true,
                            "slug": "isixhosa-programming-quiz",
                            "status": "published",
                            "time_limit_minutes": 35,
                            "title": "IsiXhosa Programming Quiz",
                            "total_points": 40,
                            "total_questions": 4,
                            "updated_at": "2025-08-15T23:14:44.045986+00:00"
                        },
                        "submission": {
                            "answers": {
                                "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15": "B",
                                "242791c3-7dd6-4083-b205-e24553b846f7": "C",
                                "2e1210da-3c1f-4291-afe4-792051a2cff7": "A",
                                "40bef686-7f93-4850-a10c-de82c0a7c4a9": "D"
                            },
                            "detailed_results": [
                                {
                                    "correct_answer": "A",
                                    "is_correct": true,
                                    "points_weight": 10.0,
                                    "question_id": "2e1210da-3c1f-4291-afe4-792051a2cff7",
                                    "user_answer": "A"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": true,
                                    "points_weight": 10.0,
                                    "question_id": "0d20c6f4-6a6c-4ded-9f4b-8634a8563f15",
                                    "user_answer": "B"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": false,
                                    "points_weight": 10.0,
                                    "question_id": "242791c3-7dd6-4083-b205-e24553b846f7",
                                    "user_answer": "C"
                                },
                                {
                                    "correct_answer": "B",
                                    "is_correct": false,
                                    "points_weight": 10.0,
                                    "question_id": "40bef686-7f93-4850-a10c-de82c0a7c4a9",
                                    "user_answer": "D"
                                }
                            ],
                            "id": "06af57be-9594-4433-9a33-f916b1fb8052",
                            "percentage": 50.0,
                            "questions_correct": 2,
                            "questions_total": 4,
                            "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29",
                            "score": 20.0,
                            "status": "completed",
                            "submitted_at": "2025-09-01T00:59:19.603675+00:00",
                            "user_id": "8b446b62-333b-42ed-8d14-8aa1b9249c91"
                        }
                    },
                    "message": "Quiz results retrieved successfully"
                }
            },
            '/api/quizzes/<quiz_id>/leaderboard?quiz_id=xxx_xxx_xxx (optional)': {
                request: {
                    
                },
                response: {
                    scenarios:[
                        {
                        title:"Global quiz rankings (when quiz_id not specified)",
                        "data": {
                            "leaderboard": [
                               {
                                    "average_percentage": 100.0,
                                    "full_name": "John Doe",
                                    "last_completion": "2025-08-27T01:08:10.321212+00:00",
                                    "quizzes_completed": 1,
                                    "rank": 1,
                                    "user_id": "2b7154d4-2545-4a30-bd4f-0389b3dbc3f2"
                                },
                                {
                                    "average_percentage": 91.7,
                                    "full_name": "Doe John",
                                    "last_completion": "2025-08-25T13:40:02.48892+00:00",
                                    "quizzes_completed": 3,
                                    "rank": 2,
                                    "user_id": "1f7892ad-64ee-406e-9a01-5c8669b41f72"
                                },
                                {
                                    "average_percentage": 90.7,
                                    "full_name": "Zan Jan",
                                    "last_completion": "2025-08-25T11:13:30.717369+00:00",
                                    "quizzes_completed": 3,
                                    "rank": 3,
                                    "user_id": "8232ad65-a1b5-4fc1-9fee-275cc3e2292c"
                                },
                            ],
                            "limit": 500,
                            "quiz_id": null
                        },
                        "message": "Leaderboard retrieved successfully"
                        },
                        {
                        title:"Leaderboard for specific quiz (when quiz_id specified)",
                        "data": {
                            "leaderboard": [
                                {
                                    "attempts_count": 2,
                                    "best_percentage": 100.0,
                                    "completed_at": "2025-08-27T01:08:10.321212+00:00",
                                    "full_name": "John Doe",
                                    "rank": 1,
                                    "user_id": "2b7154d4-2545-4a30-bd4f-0389b3dbc3f2"
                                },
                                {
                                    "attempts_count": 1,
                                    "best_percentage": 75.0,
                                    "completed_at": "2025-08-25T10:00:39.279167+00:00",
                                    "full_name": "Doe John",
                                    "rank": 2,
                                    "user_id": "7e5375a8-ea56-4a16-afd0-ed5282f6c060"
                                },
                                {
                                    "attempts_count": 1,
                                    "best_percentage": 75.0,
                                    "completed_at": "2025-08-25T10:01:01.397857+00:00",
                                    "full_name": "Zan Jan",
                                    "rank": 3,
                                    "user_id": "5da4201c-03e5-430f-a9ed-734b4435aca0"
                                }
                            ],
                            "limit": 500,
                            "quiz_id": "937d395a-001d-4cd0-b08b-efab7d2bdf29"
                        },
                        "message": "Leaderboard retrieved successfully"
                        }
                    ]
                }
            },
            ////////////////////////////////////////////////////////
            '/api/dashboard/stats?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                        "data": {
                            "challenges": {
                                "completed": 3,
                                "progress": 23.1,
                                "this_week": 0,
                                "total": 13
                            },
                            "overall": {
                                "completed_items": 4,
                                "message": "Just getting started!",
                                "progress": 19.0,
                                "total_items": 21
                            },
                            "quizzes": {
                                "attempted": 1,
                                "progress": 12.5,
                                "this_week": 0,
                                "total": 8
                            }
                        },
                        "message": "Dashboard stats retrieved successfully"
                }
            }, 
            '/api/dashboard/learning-path?user_id=xxx_xxx_xxx': {
                request: {
                    
                },
                response: {
                        "data": [
                        {
                            "id": "60bfc347-6ac8-490b-89cd-8a4da67c1d91",
                            "status": "in_progress",
                            "title": "Binary Search Implementation",
                            "type": "challenge"
                        },
                        {
                            "id": "c6c6a9ab-cecb-4dce-9ee4-a04c8dcb6773",
                            "status": "in_progress",
                            "title": "Two Sum Problem",
                            "type": "challenge"
                        },
                        {
                            "id": "b45ae95d-a6d3-4111-941f-33e598a6bd04",
                            "status": "not_started",
                            "title": "Debug the Grocery Calculator",
                            "type": "challenge"
                        }
                    ],
                    "message": "Learning path retrieved successfully"
                }
            },
             ////////////////////////////////////////////////////////
            '/api/admin/dashboard/stats': {
                request: {
                    
                },
                response: {
                    "data": {
                        "overview": {
                            "active_challenges": {
                                "count": 13,
                                "growth_percentage": 0.0,
                                "new_this_week": 0
                            },
                            "active_quizzes": {
                                "count": 8,
                                "growth_percentage": 0.0,
                                "new_this_week": 0
                            },
                            "total_students": {
                                "count": 23,
                                "growth_percentage": 0.0,
                                "new_this_week": 0
                            },
                            "total_submissions": {
                                "count": 153,
                                "growth_percentage": 0.0,
                                "new_this_week": 0
                            }
                        },
                        "recent_challenges": [
                            {
                                "difficulty": "medium",
                                "id": "b45ae95d-a6d3-4111-941f-33e598a6bd04",
                                "status": "published",
                                "title": "Debug the Grocery Calculator"
                            },
                            {
                                "difficulty": "medium",
                                "id": "ddb7ca5f-5795-4a05-8e9e-fc0cb8050452",
                                "status": "published",
                                "title": "Text Pattern Analyzer"
                            },
                            {
                                "difficulty": "medium",
                                "id": "5a4cfd66-7841-43e0-8028-0e4cefc21979",
                                "status": "published",
                                "title": "Longest Valid Parentheses"
                            }
                        ],
                        "recent_quizzes": [
                            {
                                "id": "2a23a818-63a4-498d-b917-9c640b09386f",
                                "status": "published",
                                "title": "IsiXhosa Programming Quiz  overdue",
                                "total_questions": 4
                            },
                            {
                                "id": "94cbea9f-0ff0-48a7-a04e-89346760ae55",
                                "status": "published",
                                "title": "IsiXhosa Problem Solving and Debugging Quiz",
                                "total_questions": 7
                            },
                            {
                                "id": "3c82159b-e382-4d49-805e-2392c1be0301",
                                "status": "published",
                                "title": "IsiXhosa Code Reading Quiz",
                                "total_questions": 7
                            }
                        ]
                    },
                    "message": "Admin dashboard stats retrieved successfully"
                }
            },
            ////////////////////////////////////////////////////////
            '/api/cache': {
                request: {
                    
                },
                response: {
                        "message": "Caches cleared successfully"
                    }
            },
            ////////////////////////////////////////////////////////
            '/api/admin/challenges': {
                request: {
                    method:"GET"
                    
                },
                response: {
                }
            },
            '/api/admin/challenges': {
                request: {
                    method:"POST",
                    body:{

                    }
                    
                },
                response: {
                }
            },
            '/api/admin/challenges/<challenge_id>': {
                request: {
                    method:"DELETE"
                    
                },
                response: {
                }
            },
            '/api/admin/challenges/<challenge_id>': {
                request: {
                    method:"GET"
                    
                },
                response: {
                }
            },
              ////////////////////////////////////////////////////////
            '/api/admin/quizzes': {
                request: {
                    method:"GET"
                    
                },
                response: {
                }
            },
            '/api/admin/quizzes': {
                request: {
                    method:"POST",
                    body:{

                    }
                    
                },
                response: {
                }
            },
            '/api/admin/quizzes/<quiz_id>': {
                request: {
                    method:"GET"
                    
                },
                response: {
                }
            },
            '/api/admin/quizzes/<quiz_id>': {
                request: {
                    method:"DELETE"
                    
                },
                response: {
                }
            },
        };

        // Get modal elements
        const modal = document.getElementById('endpointModal');
        const closeBtn = document.getElementsByClassName('close')[0];
        const modalTitle = document.getElementById('modalTitle');
        const modalDescription = document.getElementById('modalDescription');
        const modalEndpoint = document.getElementById('modalEndpoint');
        const exampleRequest = document.getElementById('exampleRequest');
        const exampleResponse = document.getElementById('exampleResponse');

        // Add click event listeners to all table rows (except headers)
        document.addEventListener('DOMContentLoaded', function() {
            const rows = document.querySelectorAll('tbody tr:not(.section-header)');
            
            rows.forEach(row => {
                row.addEventListener('click', function() {
                    const cells = this.querySelectorAll('td');
                    const endpoint = cells[0].querySelector('.endpoint').textContent;
                    const method = cells[1].querySelector('.method').textContent;
                    const description = cells[3].textContent;
                    
                    showModal(endpoint, method, description);
                });
            });
        });

        function showModal(endpoint, method, description) {
            modalTitle.textContent = method + ' ' + endpoint;
            modalDescription.textContent = description;
            modalEndpoint.textContent = method + ' ' + endpoint;

            // Find matching example or use generic one
            let example = endpointExamples[endpoint];
            
            // Handle parameterized endpoints
            if (!example) {
                if (endpoint.includes('<') || endpoint.includes('{')) {
                    // Try to match pattern
                    const patterns = Object.keys(endpointExamples);
                    const matchingPattern = patterns.find(pattern => {
                        const regexPattern = pattern.replace(/<[^>]+>/g, '[^/]+').replace(/{[^}]+}/g, '[^/]+');
                        return new RegExp(regexPattern).test(endpoint);
                    });
                    if (matchingPattern) {
                        example = endpointExamples[matchingPattern];
                    }
                }
            }

            // Use specific example or generic one
            if (example) {
                exampleRequest.innerHTML = formatRequest(example.request);
                exampleResponse.innerHTML = formatJSON(example.response);
            } else {
                const genericRequest = getGenericRequest(endpoint, method);
                const genericResponse = getGenericResponse(method);
                exampleRequest.innerHTML = formatRequest(genericRequest);
                exampleResponse.innerHTML = formatJSON(genericResponse);
            }

            modal.style.display = 'block';
        }

        function formatRequest(request) {
            // Handle special case for multiple request scenarios
            if (request.scenarios) {
                let formatted = '';
                request.scenarios.forEach((scenario, index) => {
                    formatted += `<strong>${scenario.title}</strong>\n`;
                    formatted += highlightJSON(JSON.stringify(scenario.data, null, 2));
                    if (index < request.scenarios.length - 1) {
                        formatted += '\n\n';
                    }
                });
                return `<pre>${formatted}</pre>`;
            }
            
            const { body } = request;
            
            // Only show the JSON body if present
            if (body) {
                return `<pre>${highlightJSON(JSON.stringify(body, null, 2))}</pre>`;
            }
            
            // For GET requests or requests without body, show "No request body"
            return `<pre>No request body</pre>`;
        }

        function formatJSON(obj) {
            // Handle special case for multiple response scenarios
            if (obj.scenarios) {
                let formatted = '';
                obj.scenarios.forEach((scenario, index) => {
                    formatted += `<strong>${scenario.title}</strong>\n`;
                    formatted += highlightJSON(JSON.stringify(scenario.data, null, 2));
                    if (index < obj.scenarios.length - 1) {
                        formatted += '\n\n';
                    }
                });
                return `<pre>${formatted}</pre>`;
            }
            
            return `<pre>${highlightJSON(JSON.stringify(obj, null, 2))}</pre>`;
        }

        function highlightJSON(jsonString) {
            let result = '';
            let i = 0;
            
            while (i < jsonString.length) {
                const char = jsonString[i];
                
                if (char === '"') {
                    // Find the end of the string
                    let endQuote = i + 1;
                    while (endQuote < jsonString.length) {
                        if (jsonString[endQuote] === '"' && jsonString[endQuote - 1] !== '\\') {
                            break;
                        }
                        endQuote++;
                    }
                    
                    const stringContent = jsonString.substring(i, endQuote + 1);
                    
                    // Check if this is a key (followed by colon after whitespace)
                    let afterString = endQuote + 1;
                    while (afterString < jsonString.length && /\s/.test(jsonString[afterString])) {
                        afterString++;
                    }
                    
                    if (jsonString[afterString] === ':') {
                        result += `<span class="json-key">${stringContent}</span>`;
                    } else {
                        result += `<span class="json-string">${stringContent}</span>`;
                    }
                    
                    i = endQuote + 1;
                } else if (/\d/.test(char) || (char === '-' && /\d/.test(jsonString[i + 1]))) {
                    // Handle numbers
                    let numEnd = i;
                    if (char === '-') numEnd++;
                    while (numEnd < jsonString.length && /[\d.]/.test(jsonString[numEnd])) {
                        numEnd++;
                    }
                    
                    const number = jsonString.substring(i, numEnd);
                    result += `<span class="json-number">${number}</span>`;
                    i = numEnd;
                } else if (jsonString.substring(i, i + 4) === 'true') {
                    result += `<span class="json-boolean">true</span>`;
                    i += 4;
                } else if (jsonString.substring(i, i + 5) === 'false') {
                    result += `<span class="json-boolean">false</span>`;
                    i += 5;
                } else if (jsonString.substring(i, i + 4) === 'null') {
                    result += `<span class="json-null">null</span>`;
                    i += 4;
                } else if (['{', '}', '[', ']', ',', ':'].includes(char)) {
                    result += `<span class="json-punctuation">${char}</span>`;
                    i++;
                } else {
                    result += char;
                    i++;
                }
            }
            
            return result;
        }

        function getGenericRequest(endpoint, method) {
            const request = {
                method: method,
                url: endpoint,
                headers: { 'Content-Type': 'application/json' }
            };
            
            if (method === 'POST' || method === 'PUT') {
                request.body = { data: "example payload" };
            }
            
            return request;
        }

        function getGenericResponse(method) {
            if (method === 'DELETE') {
                return { message: "Resource deleted successfully" };
            }
            
            return {
                message: "Operation completed successfully",
                data: {
                    id: "resource-xxx-xxx",
                    status: "success"
                }
            };
        }

        function copyToClipboard(elementId, button) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.innerText;
            
            navigator.clipboard.writeText(text).then(function() {
                // Change button text and style temporarily
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(function() {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy text: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(function() {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Close modal handlers
        closeBtn.onclick = function() {
            modal.style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Close on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                modal.style.display = 'none';
            }
        });
    </script>
</body>
</html>